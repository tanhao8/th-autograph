{"version":3,"sources":["webpack:///D:/learnning/uniCode/uni_modules/v-sign/components/v-sign/v-sign.vue?ad37","webpack:///D:/learnning/uniCode/uni_modules/v-sign/components/v-sign/v-sign.vue?7491","webpack:///D:/learnning/uniCode/uni_modules/v-sign/components/v-sign/v-sign.vue?9ad7","webpack:///D:/learnning/uniCode/uni_modules/v-sign/components/v-sign/v-sign.vue?f10a","uni-app:///uni_modules/v-sign/components/v-sign/v-sign.vue","webpack:///D:/learnning/uniCode/uni_modules/v-sign/components/v-sign/v-sign.vue?61bd","webpack:///D:/learnning/uniCode/uni_modules/v-sign/components/v-sign/v-sign.vue?c8c0"],"names":[],"mappings":"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","file":"uni_modules/v-sign/components/v-sign/v-sign.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./v-sign.vue?vue&type=template&id=2a6f283c&scoped=true&\"\nvar renderjs\nimport script from \"./v-sign.vue?vue&type=script&lang=js&\"\nexport * from \"./v-sign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./v-sign.vue?vue&type=style&index=0&id=2a6f283c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a6f283c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/v-sign/components/v-sign/v-sign.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./v-sign.vue?vue&type=template&id=2a6f283c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([\n    {\n      width: _vm.width && _vm.formatSize(_vm.width),\n      height: _vm.height && _vm.formatSize(_vm.height)\n    },\n    _vm.customStyle\n  ])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./v-sign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./v-sign.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"signature-wrap\">\n\t\t<canvas\n\t\t\t:canvas-id=\"cid\"\n\t\t\t:id=\"cid\"\n\t\t\t@touchstart=\"onTouchStart\"\n\t\t\t@touchmove=\"onTouchMove\"\n\t\t\t@touchend=\"onTouchEnd\"\n\t\t\t:style=\"[\n\t\t\t\t{\n\t\t\t\t\twidth: width && formatSize(width),\n\t\t\t\t\theight: height && formatSize(height)\n\t\t\t\t},\n\t\t\t\tcustomStyle\n\t\t\t]\"\n\t\t></canvas>\n\t\t<slot />\n\t</view>\n</template>\n\n<script>\n/**\n * sign canvas 手写签名\n * @description 设置线条宽度、颜色，撤回，清空\n * @tutorial\n * @property {String} cid canvas id 不设置则默认为 v-sign-时间戳\n * @property {String, Number} width canvas 宽度\n * @property {String, Number} height canvas 高度\n * @property {bgColor} bgColor 画布背景颜色\n * @property {Object} customStyle canvas 自定义样式\n * @property {String} lineWidth 画笔大小，权重小于 v-sign-pen 组件设置的画笔大小\n * @property {Number} lineColor 画笔颜色，权重小于 v-sign-pen 组件设置的画笔大小\n * @event {Function} init 当创建完 canvas 实例后触发，向外提供 canvas实例，撤回，清空方法\n * @example <v-sign @init=\"signInit\"></v-sign>\n */\nimport { formatSize } from '../../utils'\n\nexport default {\n\tname: 'v-sign',\n\tprops: {\n\t\t// canvas id\n\t\tcid: {\n\t\t\ttype: String,\n\t\t\tdefault: `v-sign-${Date.now()}`\n\t\t\t// required: true\n\t\t},\n\t\t// canvas 宽度\n\t\twidth: {\n\t\t\ttype: [String, Number]\n\t\t},\n\t\t// canvas 高度\n\t\theight: {\n\t\t\ttype: [String, Number]\n\t\t},\n\t\t// 画笔大小，权重小于 v-sign-pen 组件设置的画笔大小 penLineWidth\n\t\tlineWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 4\n\t\t},\n\t\t// 线颜色，权重小于 v-sign-color 组件设置的画笔颜色 penLineColor\n\t\tlineColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#333'\n\t\t},\n\t\t// 画布背景颜色\n\t\tbgColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '#fff'\n\t\t},\n\t\t// canvas自定义样式\n\t\tcustomStyle: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\tgetSignInterface: this.provideSignInterface\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tformatSize,\n\t\t\tlineData: [],\n\t\t\twinWidth: 0,\n\t\t\twinHeight: 0,\n\t\t\tpenLineWidth: null, // v-sign-pen 组件设置的画笔大小\n\t\t\tpenLineColor: null // v-sign-color 组件设置的颜色\n\t\t}\n\t},\n\tcreated() {\n\t\t// 获取窗口宽高\n\t\tconst { windowWidth, windowHeight } = uni.getSystemInfoSync()\n\t\tthis.winWidth = windowWidth\n\t\tthis.winHeight = windowHeight\n\t},\n\tmounted() {\n\t\tthis.canvasCtx = uni.createCanvasContext(this.cid, this)\n\t\t// h5 需延迟绘制，否则绘制失败\n\t\t// #ifdef H5\n\t\tsetTimeout(() => {\n\t\t\t// #endif\n\t\t\tthis.setBackgroundColor(this.bgColor)\n\t\t\t// #ifdef H5\n\t\t}, 10)\n\t\t// #endif\n\t\t// 初始化完成，触发 init 事件\n\t\tthis.$emit('init', this.provideSignInterface())\n\t},\n\tmethods: {\n\t\tonTouchStart(e) {\n\t\t\tconst pos = e.touches[0]\n\t\t\tthis.lineData.push({\n\t\t\t\tstyle: {\n\t\t\t\t\tcolor: this.penLineColor || this.lineColor,\n\t\t\t\t\twidth: this.penLineWidth || this.lineWidth\n\t\t\t\t},\n\t\t\t\t// 屏幕坐标\n\t\t\t\tcoordinates: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: e.type,\n\t\t\t\t\t\tx: pos.x,\n\t\t\t\t\t\ty: pos.y\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t})\n\t\t\tthis.drawLine()\n\t\t},\n\t\tonTouchMove(e) {\n\t\t\tconst pos = e.touches[0]\n\t\t\tthis.lineData[this.lineData.length - 1].coordinates.push({\n\t\t\t\ttype: e.type,\n\t\t\t\tx: pos.x,\n\t\t\t\ty: pos.y\n\t\t\t})\n\t\t\tthis.drawLine()\n\t\t},\n\t\tonTouchEnd(e) {\n\t\t\tthis.$emit('end', this.lineData)\n\t\t},\n\t\t// 清空画布\n\t\tclear() {\n\t\t\tthis.lineData = []\n\t\t\tthis.canvasCtx.clearRect(0, 0, this.winWidth, this.winHeight)\n\t\t\tthis.canvasCtx.draw()\n\t\t\tthis.setBackgroundColor(this.bgColor)\n\t\t\tthis.$emit('clear')\n\t\t},\n\t\t// 撤销\n\t\trevoke() {\n\t\t\tthis.setBackgroundColor(this.bgColor)\n\t\t\tthis.lineData.pop()\n\t\t\tthis.lineData.forEach((item, index) => {\n\t\t\t\tthis.canvasCtx.beginPath()\n\t\t\t\tthis.canvasCtx.setLineCap('round')\n\t\t\t\tthis.canvasCtx.setStrokeStyle(item.style.color)\n\t\t\t\tthis.canvasCtx.setLineWidth(item.style.width)\n\t\t\t\tif (item.coordinates.length < 2) {\n\t\t\t\t\tconst pos = item.coordinates[0]\n\t\t\t\t\tthis.canvasCtx.moveTo(pos.x, pos.y)\n\t\t\t\t\tthis.canvasCtx.lineTo(pos.x + 1, pos.y)\n\t\t\t\t} else {\n\t\t\t\t\titem.coordinates.forEach(pos => {\n\t\t\t\t\t\tif (pos.type == 'touchstart') {\n\t\t\t\t\t\t\tthis.canvasCtx.moveTo(pos.x, pos.y)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.canvasCtx.lineTo(pos.x, pos.y)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tthis.canvasCtx.stroke()\n\t\t\t})\n\t\t\tthis.canvasCtx.draw(true)\n\t\t\tthis.$emit('revoke', this.lineData)\n\t\t},\n\t\t// 绘制线条\n\t\tdrawLine() {\n\t\t\tconst lineDataLen = this.lineData.length\n\t\t\tif (!lineDataLen) return\n\t\t\tconst currentLineData = this.lineData[lineDataLen - 1]\n\t\t\tconst coordinates = currentLineData.coordinates\n\t\t\tconst coordinatesLen = coordinates.length\n\t\t\tif (!coordinatesLen) return\n\t\t\tlet startPos\n\t\t\tlet endPos\n\t\t\tif (coordinatesLen < 2) {\n\t\t\t\t// only start, no move event\n\t\t\t\tstartPos = coordinates[coordinatesLen - 1]\n\t\t\t\tendPos = {\n\t\t\t\t\tx: startPos.x + 1,\n\t\t\t\t\ty: startPos.y\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstartPos = coordinates[coordinatesLen - 2]\n\t\t\t\tendPos = coordinates[coordinatesLen - 1]\n\t\t\t}\n\n\t\t\tconst style = currentLineData.style\n\t\t\tthis.canvasCtx.beginPath()\n\t\t\tthis.canvasCtx.setLineCap('round')\n\t\t\tthis.canvasCtx.setStrokeStyle(style.color)\n\t\t\tthis.canvasCtx.setLineWidth(style.width)\n\t\t\tthis.canvasCtx.moveTo(startPos.x, startPos.y)\n\t\t\tthis.canvasCtx.lineTo(endPos.x, endPos.y)\n\t\t\t// const P1 = this.caculateBezier(startPos, endPos, centerPos)\n\t\t\t// console.log(P1.x, P1.y)\n\t\t\t// this.canvasCtx.moveTo(startPos.x, startPos.y)\n\t\t\t// this.canvasCtx.quadraticCurveTo(P1.x, P1.y, endPos.x, endPos.y)\n\t\t\tthis.canvasCtx.stroke()\n\t\t\tthis.canvasCtx.draw(true)\n\t\t},\n\t\t// 保存png图片，文件名配置 filename 仅支持 h5\n\t\tasync saveImage(filename = '签名') {\n\t\t\tconst tempFilePath = await this.canvasToTempFilePath()\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t// #ifdef H5\n\t\t\t\ttry {\n\t\t\t\t\tconst a = document.createElement('a')\n\t\t\t\t\ta.href = tempFilePath\n\t\t\t\t\ta.download = filename\n\t\t\t\t\tdocument.body.appendChild(a)\n\t\t\t\t\ta.click()\n\t\t\t\t\ta.remove()\n\t\t\t\t\tresolve({\n\t\t\t\t\t\terrMsg: 'saveImageH5:ok'\n\t\t\t\t\t})\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e)\n\t\t\t\t\treject(e)\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #ifndef H5\n\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\tfilePath: tempFilePath,\n\t\t\t\t\tsuccess(resObj) {\n\t\t\t\t\t\tresolve(resObj)\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\treject(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t})\n\t\t},\n\t\t// canvas 保存为临时图片路径，h5返回 base64\n\t\tcanvasToTempFilePath(conf = {}) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.canvasToTempFilePath(\n\t\t\t\t\t{\n\t\t\t\t\t\tcanvasId: this.cid,\n\t\t\t\t\t\t...conf,\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tresolve(res.tempFilePath)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: err => {\n\t\t\t\t\t\t\tconsole.log('fail', err)\n\t\t\t\t\t\t\treject(err)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tthis\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\t\tsetBackgroundColor(color = '#fff') {\n\t\t\tthis.canvasCtx.beginPath()\n\t\t\tthis.canvasCtx.setFillStyle(color)\n\t\t\tthis.canvasCtx.fillRect(0, 0, this.winWidth, this.winHeight)\n\t\t\tthis.canvasCtx.fill()\n\t\t\tthis.canvasCtx.draw(true)\n\t\t},\n\t\tsetLineWidth(numberVal) {\n\t\t\tthis.penLineWidth = numberVal\n\t\t},\n\t\tsetLineColor(strValue) {\n\t\t\tthis.penLineColor = strValue\n\t\t},\n\t\t// 向外暴露内部方法\n\t\tprovideSignInterface() {\n\t\t\treturn {\n\t\t\t\tcid: this.cid,\n\t\t\t\tctx: this.canvasCtx,\n\t\t\t\tclear: this.clear,\n\t\t\t\trevoke: this.revoke,\n\t\t\t\tsaveImage: this.saveImage,\n\t\t\t\tcanvasToTempFilePath: this.canvasToTempFilePath,\n\t\t\t\tsetLineWidth: this.setLineWidth,\n\t\t\t\tsetLineColor: this.setLineColor,\n\t\t\t\tsetBackgroundColor: this.setBackgroundColor,\n\t\t\t\tgetLineData: () => this.lineData\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 计算二次贝塞尔曲线 控制点 P1\n\t\t * 起点 P0(x0,y0)、控制点P1(x1, y1)、P2(x2, y2)、曲线上任意点B(x, y)\n\t\t * 二次贝塞尔公式：B(t) = (1-t)²P0 + 2t(1-t)P1 + t²P2\n\t\t * 代入坐标得：\n\t\t * x = (1-t)²*x0 + 2t(1-t)*x1 + t²*x2\n\t\t * y = (1-t)²*y0 + 2t(1-t)*y1 + t²*y2\n\t\t */\n\t\tcaculateBezier(P0, P2, B, t = 0.5) {\n\t\t\tconst { x: x0, y: y0 } = P0\n\t\t\tconst { x: x2, y: y2 } = P2\n\t\t\tconst { x, y } = B\n\t\t\tlet x1 = (x - (1 - t) * (1 - t) * x0 - t * t * x2) / (2 * t * (1 - t))\n\t\t\tlet y1 = (y - (1 - t) * (1 - t) * y0 - t * t * y2) / (2 * t * (1 - t))\n\t\t\treturn {\n\t\t\t\tx: x1,\n\t\t\t\ty: y1\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.signature-wrap {\n\tposition: relative;\n}\n</style>\n","import mod from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./v-sign.vue?vue&type=style&index=0&id=2a6f283c&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./v-sign.vue?vue&type=style&index=0&id=2a6f283c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1654739121891\n      var cssReload = require(\"E:/软件/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}