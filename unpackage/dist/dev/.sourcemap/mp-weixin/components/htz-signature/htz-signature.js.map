{"version":3,"sources":["webpack:///D:/learnning/uniCode/components/htz-signature/htz-signature.vue?2890","webpack:///D:/learnning/uniCode/components/htz-signature/htz-signature.vue?7085","webpack:///D:/learnning/uniCode/components/htz-signature/htz-signature.vue?bc6a","webpack:///D:/learnning/uniCode/components/htz-signature/htz-signature.vue?5890","uni-app:///components/htz-signature/htz-signature.vue","webpack:///D:/learnning/uniCode/components/htz-signature/htz-signature.vue?9ab5","webpack:///D:/learnning/uniCode/components/htz-signature/htz-signature.vue?716e"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AACmL;AACnL,gBAAgB,wLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6qB,CAAgB,8qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmEjsB;AACA,uBADA;AAEA;AACA;AACA,kBADA;AAEA,iBAFA,EADA,EAFA;;;AAQA,MARA,kBAQA;AACA;AACA,YADA;AAEA,iBAFA;AAGA,eAHA;AAIA,cAJA;AAKA,eALA;AAMA,sBANA;AAOA,mBAPA;AAQA;AACA,qBADA;AAEA,wBAFA;AAGA;AACA,mBADA;AAEA,wBAFA,EAHA;AAMA;AACA,oBADA;AAEA,wBAFA,EANA;AASA;AACA,qBADA;AAEA,wBAFA,EATA;AAYA;AACA,sBADA;AAEA,wBAFA,EAZA;AAeA;AACA,sBADA;AAEA,wBAFA,EAfA;AAkBA;AACA,oBADA;AAEA,wBAFA,EAlBA,CARA;;AA8BA,0BA9BA;AA+BA,uBA/BA;AAgCA,sDAhCA;;AAkCA,GA3CA;AA4CA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA,SAJA;;;AAOA;;AAEA,KAhBA;AAiBA,GA9DA;AA+DA;;;;;;AAMA,GArEA;AAsEA;AACA,gBADA,wBACA,CADA,EACA;AACA;AACA;AACA,KAJA;AAKA,UALA,oBAKA;;AAEA;AACA,0BADA;AAEA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA,SATA;AAUA,UAVA;AAWA,KAlBA;AAmBA,SAnBA,mBAmBA;AACA;AACA;AACA;AACA,KAvBA;AAwBA,aAxBA,uBAwBA;AACA;AACA;AACA,KA3BA;AA4BA,gBA5BA,wBA4BA,KA5BA,EA4BA;AACA;AACA;AACA,KA/BA;AAgCA,SAhCA,mBAgCA;AACA;AACA;AACA,KAnCA;AAoCA,YApCA,oBAoCA,KApCA,EAoCA;AACA;AACA;AACA,KAvCA;AAwCA,UAxCA,oBAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KA9EA;AA+EA,cA/EA,wBA+EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,WAPA;AAQA;;AAEA;AACA,OAnBA;AAoBA;AACA,KAtGA;AAuGA,YAvGA,sBAuGA;AACA;AACA;AACA,KA1GA;AA2GA,cA3GA,sBA2GA,CA3GA,EA2GA;;AAEA;AACA,uBADA;AAEA;AACA,sDADA;AAEA,4DAFA,EAFA;;AAMA;AACA,2BADA;AAEA,2BAFA;AAGA,sBAHA,GANA;;;AAYA;AACA,KA1HA;AA2HA,aA3HA,qBA2HA,CA3HA,EA2HA;AACA;AACA,yBADA;AAEA,yBAFA;AAGA,oBAHA;;AAKA;AACA,KAlIA;AAmIA,YAnIA,oBAmIA,CAnIA,EAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvJA;AAwJA,YAxJA,oBAwJA,WAxJA,EAwJA,IAxJA,EAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cADA,CACA,MADA;AAEA,SAFA,EAEA,CAFA;AAGA;AACA,cADA,CACA,MADA;AAEA,SAFA,EAEA,CAFA;AAGA;AACA;AACA;AACA,KAvKA,EAtEA,E;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAA29B,CAAgB,y7BAAG,EAAC,C;;;;;;;;;;;ACA/+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/htz-signature/htz-signature.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./htz-signature.vue?vue&type=template&id=4f0f4838&\"\nvar renderjs\nimport script from \"./htz-signature.vue?vue&type=script&lang=js&\"\nexport * from \"./htz-signature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./htz-signature.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/htz-signature/htz-signature.vue\"\nexport default component.exports","export * from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./htz-signature.vue?vue&type=template&id=4f0f4838&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./htz-signature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./htz-signature.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"htz-signature-body\">\r\n\t\t<canvas :canvas-id=\"cid\" :id=\"cid\" @touchstart=\"touchstart\" @touchmove=\"touchmove\"\r\n\t\t\t@touchend=\"touchend\"></canvas>\r\n\t\t<view class=\"htz-signature-fixed-bottom\">\r\n\t\t\t<view class=\"htz-signature-fixed-bottom-item htz-signature-tools\">\r\n\t\t\t\t<view class=\"htz-signature-tools-item\" @click=\"lineWidth\">\r\n\t\t\t\t\t<image src=\"../../static/htz-signature/bicuxi.png\"></image>\r\n\t\t\t\t\t<view>线条</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"htz-signature-tools-item\" @click=\"color\">\r\n\t\t\t\t\t<image src=\"../../static/htz-signature/color-plate-fill.png\"></image>\r\n\t\t\t\t\t<view>颜色</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"htz-signature-tools-item\" @click=\"revoke\">\r\n\t\t\t\t\t<image src=\"../../static/htz-signature/chehuinormal.png\"></image>\r\n\t\t\t\t\t<view>撤回</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"htz-signature-tools-item\" @click=\"clear\">\r\n\t\t\t\t\t<image src=\"../../static/htz-signature/qingkong_1.png\"></image>\r\n\t\t\t\t\t<view>清空</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"htz-signature-fixed-bottom-item sumbit\" @click=\"sumbit\">提交</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t<view class=\"htz-signature-color-main\" v-if=\"colorShow\">\r\n\t\t\t<view @click=\"selColor(index)\"\r\n\t\t\t\t:class=\"index==colorIndex?'htz-signature-color-item on ':'htz-signature-color-item '\"\r\n\t\t\t\t:style=\"'background-color:'+item.value\" v-for=\"(item,index) in colorData\" :key=\"index\">\r\n\t\t\t\t<image class=\"htz-signature-color-item-icon\" src=\"../../static/htz-signature/on.png\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"htz-signature-color-main\" v-if=\"lineWidthShow\">\r\n\t\t\t<view @click=\"selLineWidth(index)\"\r\n\t\t\t\t:class=\"index==lineWidthIndex?'htz-signature-lineWidth-item on':'htz-signature-lineWidth-item'\"\r\n\t\t\t\tv-for=\"(item,index) in lineWidthData\" :key=\"index\">\r\n\t\t\t\t<view\r\n\t\t\t\t\t:style=\"'width:60%;height:'+item+'px;background-color:#000000;position: absolute;top: 50%;left: 20%;margin-top:-'+item/2+'px'\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifndef APP-PLUS -->\r\n\t\t<cover-view class=\"htz-signature-color-main\" v-if=\"colorShow\">\r\n\t\t\t<cover-view @click=\"selColor(index)\"\r\n\t\t\t\t:class=\"index==colorIndex?'htz-signature-color-item on ':'htz-signature-color-item '\"\r\n\t\t\t\t:style=\"'background-color:'+item.value\" v-for=\"(item,index) in colorData\" :key=\"index\">\r\n\t\t\t\t<cover-image class=\"htz-signature-color-item-icon\" src=\"../../static/htz-signature/on.png\">\r\n\t\t\t\t</cover-image>\r\n\t\t\t</cover-view>\r\n\t\t</cover-view>\r\n\t\t<cover-view class=\"htz-signature-color-main\" v-if=\"lineWidthShow\">\r\n\t\t\t<cover-view @click=\"selLineWidth(index)\"\r\n\t\t\t\t:class=\"index==lineWidthIndex?'htz-signature-lineWidth-item on':'htz-signature-lineWidth-item'\"\r\n\t\t\t\tv-for=\"(item,index) in lineWidthData\" :key=\"index\">\r\n\t\t\t\t<cover-view\r\n\t\t\t\t\t:style=\"'width:60%;height:'+item+'px;background-color:#000000;position: absolute;top: 50%;left: 20%;margin-top:-'+item/2+'px'\">\r\n\t\t\t\t</cover-view>\r\n\t\t\t</cover-view>\r\n\t\t</cover-view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'htz-signature',\r\n\t\tprops: {\r\n\t\t\tcid: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid: '',\r\n\t\t\t\tStrokes: [],\r\n\t\t\t\tdom: null,\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\tcolorShow: false,\r\n\t\t\t\tcolorIndex: 0,\r\n\t\t\t\tcolorData: [{\r\n\t\t\t\t\tname: 'black',\r\n\t\t\t\t\tvalue: '#000000'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: 'red',\r\n\t\t\t\t\tvalue: '#f34336',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: 'blue',\r\n\t\t\t\t\tvalue: '#0238d0',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: 'green',\r\n\t\t\t\t\tvalue: '#8bc24b',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: 'yellow',\r\n\t\t\t\t\tvalue: '#ffeb3c',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: 'purple',\r\n\t\t\t\t\tvalue: '#a603d0',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: 'grey',\r\n\t\t\t\t\tvalue: '#a5a5a5',\r\n\t\t\t\t}],\r\n\t\t\t\tlineWidthShow: false,\r\n\t\t\t\tlineWidthIndex: 0,\r\n\t\t\t\tlineWidthData: ['3', '6', '9', '12', '15', '18']\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted: function() {\r\n\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tdocument.body.addEventListener('touchmove', this.touchmoveEnd, {\r\n\t\t\t\t\tpassive: false\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.width = res.windowWidth;\r\n\t\t\t\t\t\tthis.height = res.windowHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.dom = uni.createCanvasContext(this.cid, this);\r\n\r\n\t\t\t});\r\n\t\t},\r\n\t\tbeforeDestroy: function() {\r\n\t\t\t// #ifdef H5\r\n\t\t\tdocument.body.removeEventListener('touchmove', this.touchmoveEnd, {\r\n\t\t\t\tpassive: false\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttouchmoveEnd(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t},\r\n\t\t\tsumbit() {\r\n\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\tcanvasId: this.cid,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t//console.log('success', res)\r\n\t\t\t\t\t\tthis.$emit('sumbit', res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t//console.log('fail', err)\r\n\t\t\t\t\t\tthis.$emit('fail', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this)\r\n\t\t\t},\r\n\t\t\tclear() { //清空\r\n\t\t\t\tthis.Strokes = [];\r\n\t\t\t\tthis.dom.clearRect(0, 0, this.width, this.height)\r\n\t\t\t\tthis.dom.draw();\r\n\t\t\t},\r\n\t\t\tlineWidth() {\r\n\t\t\t\tthis.lineWidthShow = !this.lineWidthShow;\r\n\t\t\t\tthis.colorShow = false;\r\n\t\t\t},\r\n\t\t\tselLineWidth(index) {\r\n\t\t\t\tthis.lineWidthIndex = index;\r\n\t\t\t\tthis.lineWidthShow = false;\r\n\t\t\t},\r\n\t\t\tcolor() {\r\n\t\t\t\tthis.colorShow = !this.colorShow;\r\n\t\t\t\tthis.lineWidthShow = false;\r\n\t\t\t},\r\n\t\t\tselColor(index) {\r\n\t\t\t\tthis.colorIndex = index;\r\n\t\t\t\tthis.colorShow = false;\r\n\t\t\t},\r\n\t\t\trevoke() { //撤销上一步\r\n\t\t\t\tvar delItem = this.Strokes.pop();\r\n\t\t\t\t// if (delItem) {\r\n\t\t\t\t// \tdelItem.points.forEach((item, index) => {\r\n\t\t\t\t// \t\tif (index < (delItem.points.length - 1)) {\r\n\t\t\t\t// \t\t\tthis.dom.setStrokeStyle('#FFFFFF')\r\n\t\t\t\t// \t\t\tthis.dom.moveTo(delItem.points[index].x, delItem.points[index].y);\r\n\t\t\t\t// \t\t\tthis.dom.lineTo(delItem.points[index + 1].x, delItem.points[index + 1].y);\r\n\t\t\t\t// \t\t\tthis.dom.stroke();\r\n\t\t\t\t// \t\t\tthis.dom.draw(true);\r\n\t\t\t\t// \t\t\t// this.dom.clearRect(delItem.points[index].x, delItem.points[index].y, 10, 10);\r\n\t\t\t\t// \t\t\t// this.dom.draw(true)\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t})\r\n\r\n\t\t\t\t// }\r\n\r\n\r\n\r\n\t\t\t\t// this.dom.draw();\r\n\t\t\t\t// if(this.Strokes.length>0){\r\n\t\t\t\t// \tvar lastItem = this.Strokes[this.Strokes.length - 1];\r\n\t\t\t\t// \tuni.canvasPutImageData({\r\n\t\t\t\t// \t\tcanvasId: this.cid,\r\n\t\t\t\t// \t\tdata: lastItem.imageData.data,\r\n\t\t\t\t// \t\tx: 0,\r\n\t\t\t\t// \t\ty: 0,\r\n\t\t\t\t// \t\twidth: lastItem.imageData.width,\r\n\t\t\t\t// \t\theight: lastItem.imageData.height,\r\n\t\t\t\t// \t\tsuccess:(res)=> {\r\n\t\t\t\t// \t\t\tconsole.log('success',res)\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t},this)\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t//console.log('delItem', delItem)\r\n\t\t\t\t//this.dom.drawImage(delItem.x, delItem.y, 0, 0)\r\n\t\t\t\tthis.drawCanves();\r\n\t\t\t},\r\n\t\t\tdrawCanves() {\r\n\t\t\t\t//this.dom.draw();\r\n\t\t\t\tthis.Strokes.forEach((item, index) => {\r\n\t\t\t\t\tlet StrokesItem = item;\r\n\t\t\t\t\t//console.log(index, this.Strokes.length)\r\n\t\t\t\t\tif (StrokesItem.points.length > 1) {\r\n\t\t\t\t\t\tthis.dom.beginPath();\r\n\t\t\t\t\t\tthis.dom.setLineCap('round');\r\n\t\t\t\t\t\tthis.dom.setStrokeStyle(item.style.color);\r\n\t\t\t\t\t\tthis.dom.setLineWidth(item.style.lineWidth);\r\n\t\t\t\t\t\tStrokesItem.points.forEach((sitem, sindex) => {\r\n\t\t\t\t\t\t\tif (sitem.type == \"touchstart\") {\r\n\t\t\t\t\t\t\t\tthis.dom.moveTo(sitem.x, sitem.y)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.dom.lineTo(sitem.x, sitem.y)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//console.log('dom', sitem)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.dom.stroke();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.dom.draw();\r\n\t\t\t},\r\n\t\t\tcreateId() {\r\n\t\t\t\tvar d = new Date();\r\n\t\t\t\treturn 'can' + d.getTime();\r\n\t\t\t},\r\n\t\t\ttouchstart(e) {\r\n\r\n\t\t\t\tthis.Strokes.push({\r\n\t\t\t\t\timageData: null,\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tcolor: this.colorData[this.colorIndex].value,\r\n\t\t\t\t\t\tlineWidth: this.lineWidthData[this.lineWidthIndex],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: [{\r\n\t\t\t\t\t\tx: e.touches[0].x,\r\n\t\t\t\t\t\ty: e.touches[0].y,\r\n\t\t\t\t\t\ttype: e.type,\r\n\t\t\t\t\t}]\r\n\t\t\t\t})\r\n\t\t\t\tthis.drawLine(this.Strokes[this.Strokes.length - 1], e.type);\r\n\t\t\t},\r\n\t\t\ttouchmove(e) {\r\n\t\t\t\tthis.Strokes[this.Strokes.length - 1].points.push({\r\n\t\t\t\t\tx: e.touches[0].x,\r\n\t\t\t\t\ty: e.touches[0].y,\r\n\t\t\t\t\ttype: e.type,\r\n\t\t\t\t})\r\n\t\t\t\tthis.drawLine(this.Strokes[this.Strokes.length - 1], e.type);\r\n\t\t\t},\r\n\t\t\ttouchend(e) {\r\n\t\t\t\tif (this.Strokes[this.Strokes.length - 1].points.length < 2) { //当此路径只有一个点的时候\r\n\t\t\t\t\tthis.Strokes.pop();\r\n\t\t\t\t}\r\n\t\t\t\t//this.drawLine(this.Strokes[this.Strokes.length - 1], e.type);\r\n\t\t\t\t// uni.canvasGetImageData({\r\n\t\t\t\t// \tcanvasId: this.cid,\r\n\t\t\t\t// \tx: 0,\r\n\t\t\t\t// \ty: 0,\r\n\t\t\t\t// \twidth: this.width,\r\n\t\t\t\t// \theight: this.height,\r\n\t\t\t\t// \tsuccess: (res) => {\r\n\t\t\t\t// \t\t console.log(res.width) // 100\r\n\t\t\t\t// \t\t// console.log(res.height) // 100\r\n\t\t\t\t// \t\t// console.log(res.data instanceof Uint8ClampedArray) // true\r\n\t\t\t\t// \t\t// console.log(res.data.length) // 100 * 100 * 4\r\n\t\t\t\t// \t\tthis.Strokes[this.Strokes.length - 1].imageData = res;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// },this)\r\n\t\t\t\t//this.drawCanves();\r\n\t\t\t},\r\n\t\t\tdrawLine(StrokesItem, type) {\r\n\t\t\t\tif (StrokesItem.points.length > 1) {\r\n\t\t\t\t\tthis.dom.beginPath();\r\n\t\t\t\t\tthis.dom.setLineCap('round')\r\n\t\t\t\t\tthis.dom.setStrokeStyle(StrokesItem.style.color);\r\n\t\t\t\t\tthis.dom.setLineWidth(StrokesItem.style.lineWidth);\r\n\t\t\t\t\tthis.dom.moveTo(StrokesItem.points[StrokesItem.points.length - 2].x, StrokesItem.points[StrokesItem\r\n\t\t\t\t\t\t.points.length -\r\n\t\t\t\t\t\t2].y);\r\n\t\t\t\t\tthis.dom.lineTo(StrokesItem.points[StrokesItem.points.length - 1].x, StrokesItem.points[StrokesItem\r\n\t\t\t\t\t\t.points.length -\r\n\t\t\t\t\t\t1].y);\r\n\t\t\t\t\tthis.dom.stroke();\r\n\t\t\t\t\tthis.dom.draw(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.htz-signature-body {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tbottom: 120rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.htz-signature-body canvas {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.htz-signature-fixed-bottom {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tline-height: 120rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #000;\r\n\t\tz-index: 11;\r\n\t\tdisplay: -webkit-box;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.htz-signature-fixed-bottom .htz-signature-fixed-bottom-item {\r\n\t\t-webkit-box-flex: 3;\r\n\t\t-webkit-flex-grow: 3;\r\n\t\tflex-grow: 3;\r\n\t\tborder-top: 1px solid #1890ff;\r\n\t\tcolor: #1890ff;\r\n\t}\r\n\r\n\t.htz-signature-fixed-bottom view.sumbit {\r\n\t\t-webkit-box-flex: 1;\r\n\t\t-webkit-flex-grow: 1;\r\n\t\tflex-grow: 1;\r\n\t\tbackground-color: #1890ff;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.htz-signature-tools {\r\n\t\tdisplay: -webkit-box;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.htz-signature-tools-item {\r\n\t\ttext-align: center;\r\n\t\t-webkit-box-flex: 1;\r\n\t\t-webkit-flex-grow: 1;\r\n\t\tflex-grow: 1;\r\n\t\tline-height: 35rpx;\r\n\r\n\t}\r\n\r\n\t.htz-signature-fixed-bottom-item view image {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tpadding-top: 10rpx;\r\n\t}\r\n\r\n\t.htz-signature-tools-item view {\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.htz-signature-color-main {\r\n\t\tposition: fixed;\r\n\t\tbottom: 120rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 710rpx;\r\n\t\t/* height: 75rpx; */\r\n\t\tz-index: 11;\r\n\t\tpadding: 25rpx 20rpx;\r\n\t\tdisplay: -webkit-box;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-top: 1px dashed #d9d9d9;\r\n\t\ttransition: display 2s;\r\n\t\t-moz-transition: display 2s;\r\n\t\t/* Firefox 4 */\r\n\t\t-webkit-transition: display 2s;\r\n\t\t/* Safari 和 Chrome */\r\n\t\t-o-transition: display 2s;\r\n\t}\r\n\r\n\t.htz-signature-color-item {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #000000;\r\n\t\tborder-radius: 100px;\r\n\t\tmargin: 5px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.htz-signature-lineWidth-item {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 100px;\r\n\t\tmargin: 5px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.htz-signature-lineWidth-item.on {\r\n\t\tborder: 1px solid #d4a39e;\r\n\t}\r\n\r\n\t.htz-signature-color-item .htz-signature-color-item-icon {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.htz-signature-color-item.on .htz-signature-color-item-icon {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tmargin-top: -25rpx;\r\n\t\tmargin-left: -25rpx;\r\n\t}\r\n\r\n\t.black {\r\n\t\tbackground-color: #000000 !important;\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./htz-signature.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\软件\\\\hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./htz-signature.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1654739011041\n      var cssReload = require(\"E:/软件/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}