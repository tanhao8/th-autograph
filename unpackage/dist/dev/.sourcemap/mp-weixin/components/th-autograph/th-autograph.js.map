{"version":3,"sources":[null,"webpack:///D:/produce/my/th-autograph/components/th-autograph/th-autograph.vue?6777","webpack:///D:/produce/my/th-autograph/components/th-autograph/th-autograph.vue?702c","webpack:///D:/produce/my/th-autograph/components/th-autograph/th-autograph.vue?4235","uni-app:///components/th-autograph/th-autograph.vue","webpack:///D:/produce/my/th-autograph/components/th-autograph/th-autograph.vue?9d4f","webpack:///D:/produce/my/th-autograph/components/th-autograph/th-autograph.vue?0497"],"names":["props","canvasId","type","default","actionBar","isDownload","horizontalScreen","fileName","delineColor","delineWidth","data","context","actionShow","history","lineColor","lineWidth","canvasShow","bottomHeight","components","thColor","thLine","mounted","methods","getIphoneBottom","uni","success","judge","openAction","setColor","setLine","checkAction","saveCanvas","tempFilePath","filePath","resolve","fail","reject","canvasToFilPath","goBack","color","width","item","clear","canvasStart","x","y","style","coordinates","canvasMove","drawGraphics","startPoint","endPoint"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AACmN;AACnN,gBAAgB,0NAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAA40B,CAAgB,u1BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBC4Ch2B;EACAA;IACA;IACAC;MACAC;MACAC;IACA;IACA;IACAC;MACAF;MACAC;QACA,QACA,UACA,SACA,QACA,QACA;MACA;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;MACAP;MACAC;IACA;EACA;EACAO;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;IAAAC;EACA;EACAC;IAEA;IAEA;IACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA,iCACA;cAAA;gBAAA,iCAEA;kBAeAR;oBACAS;oBACAR;sBACA;sBACAS;oBACA;oBACAC;sBACA;sBACAC;oBACA;kBACA;gBAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MAAA;MACA;QACAb,yBACA;UACAvB;UACAwB;YACAS;UACA;UACAC;YACAC;UACA;QACA,UACA;MACA;IACA;IACA;IACAE;MAAA;MACA;MACA;MACA;QACA;UAAAC;UAAAC;QACA;QACA;QACA;QACA;QACA;UACAC;YACA;cACA;YACA;cACA;YACA;UACA;QACA;UACA;UACA;UACA;QACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QAAAC;QAAAC;MACA;QACAC;UACAP;UACAC;QACA;QACAO,cACA;UACA7C;UACA0C;UACAC;QACA;MAEA;MACA;IACA;IACAG;MACA;MACA;QAAAJ;QAAAC;MACA;QACA3C;QACA0C;QACAC;MACA;MACA;IACA;IACA;IACAI;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;UACAP;UACAC;QACA;MACA;QACAK;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC9RA;AAAA;AAAA;AAAA;AAAukD,CAAgB,khDAAG,EAAC,C;;;;;;;;;;;ACA3lD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/th-autograph/th-autograph.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./th-autograph.vue?vue&type=template&id=47289344&scoped=true&\"\nvar renderjs\nimport script from \"./th-autograph.vue?vue&type=script&lang=js&\"\nexport * from \"./th-autograph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./th-autograph.vue?vue&type=style&index=0&id=47289344&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47289344\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/th-autograph/th-autograph.vue\"\nexport default component.exports","export * from \"-!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./th-autograph.vue?vue&type=template&id=47289344&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.judge(\"pencli\")\n  var m1 = _vm.judge(\"color\")\n  var m2 = _vm.judge(\"back\")\n  var m3 = _vm.judge(\"clear\")\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.canvasShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.canvasShow = true\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./th-autograph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./th-autograph.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"autograph-box\" :style=\"{'padding-bottom': bottomHeight + 'px'}\">\n\t\t<canvas\r\n\t\tclass=\"autograph\"\r\n\t\tv-show=\"canvasShow\"\r\n\t\t:class=\"{'hidden': !canvasShow}\"\r\n\t\t:canvas-id=\"canvasId\"\r\n\t\t:id=\"canvasId\"\r\n\t\t@touchstart=\"canvasStart($event)\"\r\n\t\t@touchmove=\"canvasMove($event)\">\r\n\t\t\t<view v-if=\"history.length==0\" :class=\"['default-text',horizontalScreen?'rote-text':'']\">绘制区域</view>\r\n\t\t</canvas>\r\n\t\t<view v-show=\"!canvasShow\" class=\"autograph\" :class=\"{'hidden': canvasShow, 'rote-text': horizontalScreen }\">配置中</view>\n\t\t<view :class=\"['action-box',horizontalScreen?'rote-action':'']\">\r\n\t\t\t<view class=\"action-bar\">\r\n\t\t\t\t<view :class=\"[actionShow?'action-open':'action-close']\">\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/pencli.svg\" @click=\"openAction('thLine')\" v-if=\"judge('pencli')\"></image>\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/color.svg\" @click=\"openAction('thColor')\" v-if=\"judge('color')\"></image>\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/back.svg\" @click=\"goBack\" v-if=\"judge('back')\"></image>\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/clear.svg\" @click=\"clear\" v-if=\"judge('clear')\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<image src=\"../../static/th-autograph/checkRow.png\" @click=\"checkAction\"\r\n\t\t\t\tv-if=\"actionBar.length!=0\"\r\n\t\t\t\t:class=\"[actionShow?'roteRight':'roteLeft']\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"th-submit\" @click=\"saveCanvas\" hover-class=\"hover-class\">确定</view>\r\n\t\t</view>\n\t\t<th-color ref=\"thColor\" @setColor=\"setColor\" @closePop=\"canvasShow = true\"></th-color>\n\t\t<th-line ref=\"thLine\" @setLine=\"setLine\" @closePop=\"canvasShow = true\"></th-line>\n\t</view>\n</template>\n\n<script>\n\t/**\n\t * @property {Array} actionBar 操作按钮配置 pencli(线条)  color(颜色)  back(返回)  clear(清空)\n\t * @property {String} canvasId CanvasId\n\t * @property {Boolean} isDownload 是否下载签名\n\t * @property {Boolean} horizontalScreen 是否横屏\n\t * @property {String} fileName 文件名称\n\t * @property {String} delineColor 线颜色\n\t * @property {Number} delineWidth 线宽度\n\t **/\n\timport thColor from \"./th-color.vue\"\n\timport thLine from \"./th-line.vue\"\n\texport default {\n\t\tprops: {\n\t\t\t//canvasId\n\t\t\tcanvasId: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: `th-${Date.now()}`\n\t\t\t},\r\n\t\t\t//配置栏\n\t\t\tactionBar:{\n\t\t\t\ttype:Array,\n\t\t\t\tdefault:()=>{\n\t\t\t\t\treturn [\n\t\t\t\t\t\t'pencli',\n\t\t\t\t\t\t'color',\n\t\t\t\t\t\t'back',\n\t\t\t\t\t\t'clear'\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\r\n\t\t\t//是否下载签名\r\n\t\t\tisDownload: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t//是否横屏\r\n\t\t\thorizontalScreen: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t//文件名称\r\n\t\t\tfileName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '签名'\r\n\t\t\t},\r\n\t\t\t//线颜色\r\n\t\t\tdelineColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#000'\r\n\t\t\t},\r\n\t\t\t//线宽度\r\n\t\t\tdelineWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 4\r\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcontext:\"\",\n\t\t\t\tactionShow:true,\n\t\t\t\thistory:[],\n\t\t\t\tlineColor:\"#000\",\n\t\t\t\tlineWidth:4,\r\n\t\t\t\tcanvasShow: true,\r\n\t\t\t\tbottomHeight: 0\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tthColor,thLine\n\t\t},\n\t\tmounted () {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tthis.getIphoneBottom()\r\n\t\t\t// #endif\r\n\t\t\tthis.lineColor = this.delineColor\r\n\t\t\tthis.lineWidth = this.delineWidth\n\t\t\tconst ctx = uni.createCanvasContext(this.canvasId,this)\n\t\t\tthis.context = ctx;\n\t\t},\n\t\tmethods: {\r\n\t\t\tgetIphoneBottom() {\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t  success: res => {\r\n\t\t\t\t\tconst bottom = res.screenHeight - res.safeArea.bottom;\r\n\t\t\t\t\tthis.bottomHeight = bottom > 0 ? bottom - 10 : bottom\r\n\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t//操作栏显示控制\n\t\t\tjudge(key) {\n\t\t\t\tif(this.actionBar.includes(key)){\n\t\t\t\t\treturn true\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//打开选择器\n\t\t\topenAction(ref) {\r\n\t\t\t\tthis.canvasShow = false\n\t\t\t\tthis.$refs[ref].checkModel()\n\t\t\t},\n\t\t\t//设置颜色\n\t\t\tsetColor(color) {\n\t\t\t\tthis.lineColor = color;\n\t\t\t},\n\t\t\t//设置线条\n\t\t\tsetLine(width) {\n\t\t\t\tthis.lineWidth = width;\n\t\t\t},\n\t\t\t//切换控制栏\n\t\t\tcheckAction() {\n\t\t\t\tthis.actionShow = !this.actionShow\n\t\t\t},\r\n\t\t\t//保存\r\n\t\t\tasync saveCanvas() {\r\n\t\t\t\tconst tempFilePath = await this.canvasToFilPath()\r\n\t\t\t\tif(!this.isDownload) {\r\n\t\t\t\t\tthis.$emit('submit',tempFilePath)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst a = document.createElement('a')\r\n\t\t\t\t\t\ta.href = tempFilePath\r\n\t\t\t\t\t\ta.download = this.fileName\r\n\t\t\t\t\t\tdocument.body.appendChild(a)\r\n\t\t\t\t\t\ta.click()\r\n\t\t\t\t\t\ta.remove()\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\treject(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\tfilePath: tempFilePath,\r\n\t\t\t\t\t\tsuccess(resObj) {\r\n\t\t\t\t\t\t\tthis.$emit('submit',tempFilePath)\r\n\t\t\t\t\t\t\tresolve(resObj)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tthis.$emit('dowmloadErr',err)\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 保存临时路径\r\n\t\t\tcanvasToFilPath(conf = {}) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.canvasToTempFilePath(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcanvasId: this.canvasId,\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\tresolve(res.tempFilePath)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},this\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\t//撤回\n\t\t\tgoBack() {\n\t\t\t\tthis.context.draw()\n\t\t\t\tthis.history.pop();\n\t\t\t\tthis.history.forEach((item, index) => {\r\n\t\t\t\t\tlet {color,width} = item.style\n\t\t\t\t\tthis.context.beginPath()\n\t\t\t\t\tthis.context.setLineCap('round')\n\t\t\t\t\tthis.context.setStrokeStyle(color)\n\t\t\t\t\tthis.context.setLineWidth(width)\n\t\t\t\t\tif (item.coordinates.length >= 2) {\n\t\t\t\t\t\titem.coordinates.forEach(it => {\n\t\t\t\t\t\t\tif (it.type == 'touchstart') {\n\t\t\t\t\t\t\t\tthis.context.moveTo(it.x, it.y)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.context.lineTo(it.x, it.y)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst point = item.coordinates[0]\n\t\t\t\t\t\tthis.context.moveTo(point.x, point.y)\n\t\t\t\t\t\tthis.context.lineTo(point.x + 1, point.y)\n\t\t\t\t\t}\n\t\t\t\t\tthis.context.stroke()\n\t\t\t\t})\n\t\t\t\tthis.context.draw(true)\n\t\t\t},\n\t\t\t//清空画布\n\t\t\tclear() {\n\t\t\t\tthis.history = [];\n\t\t\t\tthis.context.draw()\n\t\t\t},\n\t\t\tcanvasStart(event) {\n\t\t\t\tlet {x,y} =  event.touches[0]\n\t\t\t\tthis.history.push({\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tcolor: this.lineColor,\n\t\t\t\t\t\twidth: this.lineWidth\n\t\t\t\t\t},\n\t\t\t\t\tcoordinates: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: event.type,\n\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\ty: y\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t})\n\t\t\t\tthis.drawGraphics()\n\t\t\t},\n\t\t\tcanvasMove(e) {\n\t\t\t\t// e.preventDefault()\n\t\t\t\tlet {x,y} = e.touches[0]\n\t\t\t\tthis.history[this.history.length - 1].coordinates.push({\n\t\t\t\t\ttype: e.type,\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t})\n\t\t\t\tthis.drawGraphics()\n\t\t\t},\n\t\t\t//绘制\n\t\t\tdrawGraphics() {\n\t\t\t\tlet historyLen = this.history.length\n\t\t\t\tif (!historyLen) return\n\t\t\t\tlet currentData = this.history[historyLen - 1]\n\t\t\t\tlet coordinates = currentData.coordinates\n\t\t\t\tif (!coordinates.length) return\n\t\t\t\tlet startPoint,endPoint;\n\t\t\t\tif (coordinates.length < 2) {\n\t\t\t\t\tstartPoint = coordinates[coordinates.length - 1]\n\t\t\t\t\tendPoint = {\n\t\t\t\t\t\tx: startPoint.x + 1,\n\t\t\t\t\t\ty: startPoint.y\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstartPoint = coordinates[coordinates.length - 2]\n\t\t\t\t\tendPoint = coordinates[coordinates.length - 1]\n\t\t\t\t}\n\t\t\t\tlet style = currentData.style\n\t\t\t\tthis.context.beginPath()\n\t\t\t\tthis.context.setLineCap('round')\n\t\t\t\tthis.context.setStrokeStyle(style.color)\n\t\t\t\tthis.context.setLineWidth(style.width)\n\t\t\t\tthis.context.moveTo(startPoint.x, startPoint.y)\n\t\t\t\tthis.context.lineTo(endPoint.x, endPoint.y)\n\t\t\t\tthis.context.stroke()\n\t\t\t\tthis.context.draw(true)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\r\n\t.hidden {\r\n\t\theight: 0 !important;\r\n\t\toverflow: hidden;\r\n\t\tborder: 0 !important;\r\n\t}\n\t.autograph{\n\t\twidth: 100%;\n\t\theight: 92%;\n\t\tbox-sizing: border-box;\n\t\tborder:1px dashed #ccc;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\n\t\tfont-size: 38upx;\r\n\t\tcolor: #C0C0C0;\r\n\t}\r\n\t.config {\r\n\t\twidth: 100%;\r\n\t\theight: 92%;\r\n\t\tbackground-color: red;\r\n\t}\r\n\t.horizontalScreen{\r\n\t\tleft: -150upx !important;\r\n\t\tbottom: 0 !important;\r\n\t\tright: auto !important;\r\n\t\ttransform: rotate(90deg);\r\n\t\ttransform-origin:bottom right;\r\n\t}\r\n\t.rote-text{\r\n\t\ttransform:rotate(90deg);\r\n\t}\r\n\t.rote-action {\r\n\t\ttransform:rotate(180deg);\r\n\t\tpadding-top: 0 !important;\r\n\t\t.th-submit {\r\n\t\t\ttransform:rotate(-90deg);\r\n\t\t\twidth: 120upx !important;\r\n\t\t\theight: 100% !important;\r\n\t\t}\r\n\t}\r\n\t.action-box{\r\n\t\theight: 8%;\r\n\t\tz-index: 50;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: flex-end;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-top: 20upx;\r\n\t}\n\t.th-submit{\n\t\twidth: 150upx;\n\t\theight: 100%;\n\t\tbackground-color: #5667F5;\n\t\tborder-radius: 50upx 0 0 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 30upx;\r\n\t\ttransition: all 0.3s;\n\t}\n\t.action-bar{\r\n\t\tmargin-right: 35upx;\r\n\t\talign-items: center;\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\talign-items: center;\n\t\timage{\n\t\t\twidth: 35upx;\n\t\t\theight: 35upx;\n\t\t}\n\t\t>image{\n\t\t\ttransition: all 0.3s;\n\t\t}\n\t\t>view{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\n\t\t\timage{\n\t\t\t\twidth: 40upx;\n\t\t\t\theight: 40upx;\n\t\t\t\tmargin-right: 60upx;\n\t\t\t}\n\t\t}\n\t}\n\t.autograph-box{\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\t\t.default-text{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tz-index: -1;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 38upx;\r\n\t\t\tcolor: #C0C0C0;\r\n\t\t\tletter-spacing: 5upx;\r\n\t\t}\n\t}\n\t.roteRight{\n\t\ttransform: rotate(136deg);\n\t}\n\t.roteLeft{\n\t\ttransform: rotate(0deg);\n\t}\n\t.action-open{\n\t\tanimation:bounceIn 1s;\n\t}\n\t.action-close{\n\t\tanimation:bounceOut 0.5s forwards;\n\t}\n\t@keyframes bounceIn {\n\t\n\t\t0%,\n\t\t20%,\n\t\t40%,\n\t\t60%,\n\t\t80%,\n\t\tto {\n\t\t\t-webkit-animation-timing-function: cubic-bezier(.215, .61, .355, 1);\n\t\t\tanimation-timing-function: cubic-bezier(.215, .61, .355, 1)\n\t\t}\n\t\n\t\t0% {\n\t\t\topacity: 0;\n\t\t\t-webkit-transform: scale3d(.3, .3, .3);\n\t\t\ttransform: scale3d(.3, .3, .3)\n\t\t}\n\t\n\t\t20% {\n\t\t\t-webkit-transform: scale3d(1.1, 1.1, 1.1);\n\t\t\ttransform: scale3d(1.1, 1.1, 1.1)\n\t\t}\n\t\n\t\t40% {\n\t\t\t-webkit-transform: scale3d(.9, .9, .9);\n\t\t\ttransform: scale3d(.9, .9, .9)\n\t\t}\n\t\n\t\t60% {\n\t\t\topacity: 1;\n\t\t\t-webkit-transform: scale3d(1.03, 1.03, 1.03);\n\t\t\ttransform: scale3d(1.03, 1.03, 1.03)\n\t\t}\n\t\n\t\t80% {\n\t\t\t-webkit-transform: scale3d(.97, .97, .97);\n\t\t\ttransform: scale3d(.97, .97, .97)\n\t\t}\n\t\n\t\tto {\n\t\t\topacity: 1;\n\t\t\t-webkit-transform: scaleX(1);\n\t\t\ttransform: scaleX(1)\n\t\t}\n\t}\n\t@keyframes bounceOut {\n\t\t20% {\n\t\t\t-webkit-transform: scale3d(.9, .9, .9);\n\t\t\ttransform: scale3d(.9, .9, .9)\n\t\t}\n\t\n\t\t50%,\n\t\t55% {\n\t\t\topacity: 1;\n\t\t\t-webkit-transform: scale3d(1.1, 1.1, 1.1);\n\t\t\ttransform: scale3d(1.1, 1.1, 1.1)\n\t\t}\n\t\n\t\tto {\n\t\t\topacity: 0;\n\t\t\t-webkit-transform: scale3d(.3, .3, .3);\n\t\t\ttransform: scale3d(.3, .3, .3);\n\t\t\tdisplay: none;\n\t\t}\n\t}\r\n\t.hover-class {\r\n\t\topacity: 0.6;\r\n\t}\n</style>\n","import mod from \"-!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./th-autograph.vue?vue&type=style&index=0&id=47289344&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\ruanjian\\\\hbuilder\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./th-autograph.vue?vue&type=style&index=0&id=47289344&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683195181640\n      var cssReload = require(\"E:/ruanjian/hbuilder/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}